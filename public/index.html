<html>
  <head>
    <title>Typebeast (dev)</title>
    <link rel="stylesheet" href="/typebeast/typebeast.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        margin: 0 auto;
        padding: 32px;
        --font-heading: Poppins, -apple-system, system-ui, BlinkMacSystemFont,
          Segoe UI, Helvetica, Arial, sans-serif;
        --font-body: -apple-system, system-ui, BlinkMacSystemFont, Segoe UI,
          Helvetica, Arial, sans-serif;

        font-family: var(--font-body);
        max-width: 800px;
      }
    </style>
  </head>

  <body>
    <div>
      <h2 class="type-h1">Classes</h2>
      <hr />
      <div>
        <h3 class="type-h2">Headings</h3>
        <p class="type-h1">Heading 1</p>
        <p class="type-h2">Heading 2</p>
        <p class="type-h3">Heading 3</p>
        <p class="type-h4">Heading 4</p>
        <p class="type-h5">Heading 5</p>
        <p class="type-h6">Heading 6</p>
      </div>
      <hr />
      <div>
        <h3 class="type-h2">Paragraphs</h3>
        <p class="type-lede">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium
          accusamus aperiam pariatur omnis mollitia placeat excepturi
          praesentium, eaque obcaecati illum, assumenda accusantium, velit rem
          saepe atque officia cumque. Possimus, tenetur?
        </p>
        <p class="type-para">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium
          accusamus aperiam pariatur omnis mollitia placeat excepturi
          praesentium, eaque obcaecati illum, assumenda accusantium, velit rem
          saepe atque officia cumque. Possimus, tenetur?
        </p>
        <p class="type-small">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium
          accusamus aperiam pariatur omnis mollitia placeat excepturi
          praesentium, eaque obcaecati illum, assumenda accusantium, velit rem
          saepe atque officia cumque. Possimus, tenetur?
        </p>
        <p class="type-caption">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium
          accusamus aperiam pariatur omnis mollitia placeat excepturi
          praesentium, eaque obcaecati illum, assumenda accusantium, velit rem
          saepe atque officia cumque. Possimus, tenetur?
        </p>
      </div>
    </div>
    <hr />
    <div class="wysiwyg">
      <h2>.wysiwyg <code>&.with-lede</code></h2>
    </div>
    <div class="wysiwyg with-lede">
      <p>
        In this post, we'll be building a declarative React list rendering
        component inspired by
        <a href="https://ant.design/components/list/">Ant Design's List</a> and
        <a href="https://reactnative.dev/docs/flatlist"
          >React Native's FlatList</a
        >
        to use in situations where you may regularly reach for
        <code>array.map()</code>. While JavaScript's array methods are amazing
        modern additions to the language—they improve readability and foster
        immutable data transformation—they're fairly limited when it comes to UI
        rendering, but we can use them as a foundation for something better!
      </p>
      <p>
        Over the next few examples, we'll refactor an
        <code>array.map()</code> example to use a newly created
        <code>ListView</code>, then start to introduce functionality designed to
        cut boilerplate required to implement common patterns for organizing
        collections of data.
      </p>
      <img alt="Person riding a bicycle on city street" src="/header.jpg" />
      <h3 id="list-and-listitem" style="position:relative">
        List and List.Item
      </h3>
      <p>
        Before we get started, we'll create a couple unstyled
        <code>List</code> and <code>List.Item</code> components to use in the
        rest of the examples. To follow along interactively, see this
        <a href="https://codesandbox.io/s/rendering-lists-with-react-2y0v8"
          >CodeSandbox Project</a
        >
        and feel free to fork and customize/style the examples as we go then
        <a href="https://twitter.com/xdanmorgan"
          >share them with me on Twitter</a
        >
      </p>
      <h3 id="hardcoded-list-items" style="position:relative">
        Hardcoded List Items
      </h3>
      <p>
        Now we have <code>&lt;List /&gt;</code> and
        <code>&lt;List.Item /&gt;</code> created, we can use them to create a
        basic to-do list.
      </p>
      <h3 id="using-arraymap" style="position:relative">
        Using Array.map()
      </h3>
      <p>
        As our list continues to grow, we'll update to use a simple data
        structure then start rendering a variable amount of items with
        <code>array.map()</code>—Don't forget the key prop!
      </p>
      <h2 id="new-challenger-approaches" style="position:relative">
        New Challenger Approaches
      </h2>
      <p>
        So far, so good. The example above is a valid and standard approach in
        most React codebases. Over time, there will be other features we want to
        add to this list, such as filtering, sorting, and pagination. As the
        project continues to grow, the boilerplate supporting these patterns
        will get fragmented and inconsistent, unless we have a way to centralize
        them.
      </p>
      <p>
        Let's start our alternative approach by creating
        <code>ListView</code> to be functionally equivalent to
        <code>array.map()</code>
      </p>
      <p>
        We can now refactor our application code to replace our
        <code>List.Item</code> rendering
      </p>
      <h2 id="improving-the-api" style="position:relative">
        Improving the API
      </h2>
      <p>
        With the foundation in place, let's add a few more props and, in doing
        so, add support for many more use-cases.
      </p>
      <p>
        A quick note on what the newly added props do before we update the
        example code. In each case, when these optional props are omitted, they
        leave behind no trace of their existence rendering either
        <code>null</code> or a <code>Fragment</code> accordingly.
      </p>
      <ul>
        <li>
          <strong>as</strong>: Render the whole thing in a wrapper element.
        </li>
        <li>
          <strong>container</strong>: Render an element around the list body.
        </li>
        <li>
          <strong>before</strong>: Render a block of content before the list
          body.
        </li>
        <li>
          <strong>after</strong>: Render a block of content after the list body.
        </li>
      </ul>
      <h2 id="composition" style="position:relative">
        Composition
      </h2>
      <p>
        At this point, the ListView itself is fully functional and gives us a
        nice declarative API to render the original example entirely. Are we
        done? Not nearly. Now we're ready to really get started! With a flexible
        foundation in place, we can now write a series of thin wrapper
        components to implement custom functionality or styles.
      </p>
      <h3 id="introducing-pagination" style="position:relative">
        Introducing Pagination
      </h3>
      <p>
        As our list length grows, one of the first additions we'll want to make
        is the introduction of pagination. To support a traditional pagination
        pattern, we'll wrap the <code>ListView</code> with a specialized
        <code>PaginatedListView</code>.
      </p>
      <div class="bg-spring-wood p-3x md:p-4x my-4x my-6x child-my-0">
        <p>
          <strong>Sidenote:</strong> If you're new to React Hooks, this recently
          updated free course from Kent Dodds &amp; Egghead
          <a
            href="https://egghead.io/lessons/react-create-reusable-custom-hooks"
            >The Beginner's Guide to React</a
          >
          is an excellent introduction to the topic.
        </p>
      </div>
      <p>
        To implement this in our example code, we'll need to add the
        <code>usePagination()</code> Hook, update the component name from
        <code>ListView</code> to <code>PaginatedListView</code>, then add two
        new props: <code>currentPage</code> and <code>perPage</code>.
      </p>
      <h3 id="render-a-table-instead" style="position:relative">
        Render a Table Instead?
      </h3>
      <p>
        We sure can. Let's swap out all the HTML in our example and semantically
        render a table without modifying anything below the surface and keep the
        pagination free.
      </p>
      <h2 id="further-improvement" style="position:relative">
        Further Improvement
      </h2>
      <p>
        To expand upon the examples above, here's a few features that can be
        implemented in just few lines in new composing components without
        modifying the underlying ListView at all:
      </p>
      <ul>
        <li>
          Add list sorting and filtering by completion status using header
          controls
        </li>
        <li>
          Create an alternate pagination pattern which uses an
          IntersectionOberserver-wrapped footer to support infinite scrolling
        </li>
      </ul>
      <p>
        Really, the possibilities are endless. Feel free to fork the
        <a href="https://codesandbox.io/s/rendering-lists-with-react-2y0v8"
          >CodeSandbox Project</a
        >
        or give it a shot in your next side-project and let me know what you
        find!
      </p>
      <p>
        I hope the examples above help to illustrate the value of a generic list
        rendering component and the power of React as a tool to standardize UI
        patterns irrespective of DOM elements rendered on screen.
      </p>
      <p>
        For more information, be sure to check out
        <a href="https://ant.design/components/list/">Ant Design's List</a> and
        <a href="https://reactnative.dev/docs/flatlist"
          >React Native's FlatList</a
        >
        excellent examples too.
      </p>
    </div>
  </body>
</html>
